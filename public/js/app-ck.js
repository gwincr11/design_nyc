function drawMap(e,t){var n={zoom:10,center:new google.maps.LatLng(e,t),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.RIGHT_BOTTOM},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.RIGHT_BOTTOM},scaleControl:!0,scaleControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM}};map=new google.maps.Map(document.getElementById("map_canvas"),n)}function addMarker(e){geocoder.geocode({address:e.location},function(t,n){if(n==google.maps.GeocoderStatus.OK){markers[e.name]=new google.maps.Marker({position:t[0].geometry.location,map:map,title:e.name,id:e.id,icon:"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=A|1DAFEC|ffffff"});google.maps.event.addListener(markers[e.name],"click",_.bind(function(e,t){var n=new google.maps.InfoWindow({content:infoTemplate(e),position:markers[e.name].getPosition(),maxWidth:300,zIndex:1e3});n.open(map);map.setCenter(markers[e.name].getPosition())},this,e,markers[e.name]));map.setCenter(t[0].geometry.location);first=!1}else alert("Geocode was not successful for the following reason: "+n)})}function clearOverlays(){for(i in markers)markers[i].setMap(null)}var infowindow=new google.maps.InfoWindow,geocoder=new google.maps.Geocoder,first=!0,infoTemplate=Handlebars.compile($("#info-box-template").html()),detailsTemplate=Handlebars.compile($("#details-template").html());markers={};$("document").ready(function(){var e;drawMap("40.7142","-74.0064");$(window).resize(function(){var e=$(window).height(),t=190;$("#map_canvas").css("height",e-t)}).resize();for(e in projects)addMarker(projects[e]);$("button.details").live("click",function(e){var t=parseInt(this.id.split("-")[1]),n=_.findWhere(projects,{id:t});$("#details-modal").html(detailsTemplate(n)).modal({show:!0})})});