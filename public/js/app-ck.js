function drawMap(e,t){var n={zoom:16,center:new google.maps.LatLng(e,t),mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(document.getElementById("map_canvas"),n)}function addMarker(e){geocoder.geocode({address:e.location},function(t,n){if(n==google.maps.GeocoderStatus.OK){e.marker=new google.maps.Marker({position:t[0].geometry.location,map:map,title:e.name,id:e.id});google.maps.event.addListener(e.marker,"click",_.bind(function(e){var t=new google.maps.InfoWindow({content:infoTemplate(e),position:e.marker.getPosition(),maxWidth:300,zIndex:1e3});t.open(map);map.setCenter(e.marker.getPosition())},this,e));if(first){map.setCenter(t[0].geometry.location);first=!1}}else alert("Geocode was not successful for the following reason: "+n)})}var infowindow=new google.maps.InfoWindow,geocoder=new google.maps.Geocoder,first=!0,infoTemplate=Handlebars.compile($("#info-box-template").html());$("document").ready(function(){var e;drawMap("40.7142","-74.0064");$(window).resize(function(){var e=$(window).height(),t=190;$("#map_canvas").css("height",e-t)}).resize();for(e in projects)addMarker(projects[e])});