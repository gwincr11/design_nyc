(function(){function i(e,t){var n={zoom:16,center:new google.maps.LatLng(e,t),mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(document.getElementById("map_canvas"),n)}function s(e){t.geocode({address:e.location},function(t,i){if(i==google.maps.GeocoderStatus.OK){e.marker=new google.maps.Marker({position:t[0].geometry.location,map:map,title:e.name,id:e.id});google.maps.event.addListener(e.marker,"click",_.bind(function(e){var t=new google.maps.InfoWindow({content:r(e),position:e.marker.getPosition(),maxWidth:300,zIndex:1e3});t.open(map);map.setCenter(e.marker.getPosition())},this,e));if(n){map.setCenter(t[0].geometry.location);n=!1}}else alert("Geocode was not successful for the following reason: "+i)})}var e=new google.maps.InfoWindow,t=new google.maps.Geocoder,n=!0,r=Handlebars.compile($("#info-box-template").html());$("document").ready(function(){var e;i("40.7142","-74.0064");$(window).resize(function(){var e=$(window).height(),t=190;$("#map_canvas").css("height",e-t)}).resize();for(e in projects)s(projects[e])})})();